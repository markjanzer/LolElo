<!DOCTYPE html>
<html>
  <head>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
    <%= javascript_include_tag "application", "data-turbo-track": "reload", type: "module" %>

    <%= favicon_link_tag 'favicon/apple-touch-icon.png', rel: 'apple-touch-icon', sizes: '180x180', type: 'image/png' %>
    <%= favicon_link_tag 'favicon/favicon-32x32.png', rel: 'icon', sizes: '32x32', type: 'image/png' %>
    <%= favicon_link_tag 'favicon/favicon-16x16.png', rel: 'icon', sizes: '16x16', type: 'image/png' %>
    <link rel="manifest" href="<%= asset_path 'favicon/site.webmanifest' %>">

    <% if Rails.env.production? %>
      <!-- Sentry -->
      <%= Sentry.get_trace_propagation_meta.html_safe %>

      <!-- Plausible Analytics -->
      <script defer data-domain="lolproelo.com" src="https://plausible.io/js/script.js"></script>
    <% end %>

    <script>
      window.RAILS_ENV = "<%= Rails.env %>";
    </script>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <% 
      default_title = "LoLProElo - Elo rankings for League of Legends teams"
      default_description = "Explore and compare the current and historic strength of professional League of Legends teams using an Elo rating system. Track team performance, analyze trends, and dive deep into LoL esports history."
      
      page_title = @page_title
      page_description = @page_description
    %>

    <title><%= page_title || default_title %></title>
    <meta name="title" content="<%= page_title || default_title %>" />
    <meta name="description" content="<%= page_description || default_description %>" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="<%= request.original_url %>" />
    <meta property="og:title" content="<%= page_title || default_title %>" />
    <meta property="og:description" content="<%= page_description || default_description %>" />
    <meta property="og:image" content="<%= asset_url('meta/meta-image.png') %>" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="<%= request.original_url %>" />
    <meta property="twitter:title" content="<%= page_title || default_title %>" />
    <meta property="twitter:description" content="<%= page_description || default_description %>" />
    <meta property="twitter:image" content="<%= asset_url('meta/meta-image.png') %>" />
    <!-- Meta Tags Generated with https://metatags.io -->
  </head>

  <body 
    data-route="<%= controller.controller_name %>-<%= controller.action_name %>"
    class="bg-purple-bg text-orange-text"
  >
    <%= yield %>
  </body>
</html>
